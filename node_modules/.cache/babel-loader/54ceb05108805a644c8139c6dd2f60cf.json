{"ast":null,"code":"import { SUCCESS_SUFFIX } from \"redux-axios-middleware\";\nimport UserService from \"../services/UserService\";\nvar LIST_BOOKS = 'LIST_BOOKS';\nvar ADD_BOOK = 'ADD_BOOK';\nvar DELETE_BOOK = 'DELETE_BOOK';\nvar booksReducer = function booksReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case LIST_BOOKS + SUCCESS_SUFFIX:\n      return action.payload.data;\n    case DELETE_BOOK:\n      return state.filter(function (book) {\n        return book.id !== action.payload.book.id;\n      });\n    default:\n      return state;\n  }\n};\nexport default booksReducer;\nexport var allBooks = function allBooks() {\n  return {\n    type: LIST_BOOKS,\n    payload: {\n      request: {\n        url: '/demo/books'\n      }\n    }\n  };\n};\nexport var addBook = function addBook(book) {\n  console.log(\"\".concat(UserService.getUsername(), \" added the book \").concat(book.title));\n  return {\n    type: ADD_BOOK,\n    payload: {\n      request: {\n        url: '/demo/books',\n        method: 'POST',\n        data: book\n      }\n    }\n  };\n};\nexport var deleteBook = function deleteBook(book) {\n  console.log(\"\".concat(UserService.getUsername(), \" deletes the book \").concat(book.title));\n  return {\n    type: DELETE_BOOK,\n    payload: {\n      book: book,\n      request: {\n        url: \"/demo/books/\".concat(book.id),\n        method: 'DELETE'\n      }\n    }\n  };\n};","map":{"version":3,"names":["SUCCESS_SUFFIX","UserService","LIST_BOOKS","ADD_BOOK","DELETE_BOOK","booksReducer","state","arguments","length","undefined","action","type","payload","data","filter","book","id","allBooks","request","url","addBook","console","log","concat","getUsername","title","method","deleteBook"],"sources":["C:/Users/Admin/Desktop/projects/auth/keycloak-reactjs-demo/src/modules/books.js"],"sourcesContent":["import { SUCCESS_SUFFIX } from \"redux-axios-middleware\";\r\nimport UserService from \"../services/UserService\";\r\n\r\nconst LIST_BOOKS = 'LIST_BOOKS';\r\nconst ADD_BOOK = 'ADD_BOOK';\r\nconst DELETE_BOOK = 'DELETE_BOOK';\r\n\r\nconst booksReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case LIST_BOOKS + SUCCESS_SUFFIX:\r\n      return action.payload.data;\r\n\r\n    case DELETE_BOOK:\r\n      return state.filter((book) => book.id !== action.payload.book.id);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default booksReducer;\r\n\r\nexport const allBooks = () => ({\r\n  type: LIST_BOOKS,\r\n  payload: {\r\n    request: {\r\n      url: '/demo/books',\r\n    },\r\n  },\r\n});\r\n\r\nexport const addBook = book => {\r\n  console.log(`${UserService.getUsername()} added the book ${book.title}`);\r\n  return {\r\n    type: ADD_BOOK,\r\n    payload: {\r\n      request: {\r\n        url: '/demo/books',\r\n        method: 'POST',\r\n        data: book,\r\n      },\r\n    },\r\n  }\r\n};\r\n\r\nexport const deleteBook = book => {\r\n  console.log(`${UserService.getUsername()} deletes the book ${book.title}`);\r\n  return {\r\n    type: DELETE_BOOK,\r\n    payload: {\r\n      book,\r\n      request: {\r\n        url: `/demo/books/${book.id}`,\r\n        method: 'DELETE',\r\n      },\r\n    },\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,wBAAwB;AACvD,OAAOC,WAAW,MAAM,yBAAyB;AAEjD,IAAMC,UAAU,GAAG,YAAY;AAC/B,IAAMC,QAAQ,GAAG,UAAU;AAC3B,IAAMC,WAAW,GAAG,aAAa;AAEjC,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAA2B;EAAA,IAAvBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACtC,QAAQC,MAAM,CAACC,IAAI;IACjB,KAAKT,UAAU,GAAGF,cAAc;MAC9B,OAAOU,MAAM,CAACE,OAAO,CAACC,IAAI;IAE5B,KAAKT,WAAW;MACd,OAAOE,KAAK,CAACQ,MAAM,CAAC,UAACC,IAAI;QAAA,OAAKA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACE,OAAO,CAACG,IAAI,CAACC,EAAE;MAAA,EAAC;IAEnE;MACE,OAAOV,KAAK;EAAC;AAEnB,CAAC;AAED,eAAeD,YAAY;AAE3B,OAAO,IAAMY,QAAQ,GAAG,SAAXA,QAAQA,CAAA;EAAA,OAAU;IAC7BN,IAAI,EAAET,UAAU;IAChBU,OAAO,EAAE;MACPM,OAAO,EAAE;QACPC,GAAG,EAAE;MACP;IACF;EACF,CAAC;AAAA,CAAC;AAEF,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAGL,IAAI,EAAI;EAC7BM,OAAO,CAACC,GAAG,IAAAC,MAAA,CAAItB,WAAW,CAACuB,WAAW,EAAE,sBAAAD,MAAA,CAAmBR,IAAI,CAACU,KAAK,EAAG;EACxE,OAAO;IACLd,IAAI,EAAER,QAAQ;IACdS,OAAO,EAAE;MACPM,OAAO,EAAE;QACPC,GAAG,EAAE,aAAa;QAClBO,MAAM,EAAE,MAAM;QACdb,IAAI,EAAEE;MACR;IACF;EACF,CAAC;AACH,CAAC;AAED,OAAO,IAAMY,UAAU,GAAG,SAAbA,UAAUA,CAAGZ,IAAI,EAAI;EAChCM,OAAO,CAACC,GAAG,IAAAC,MAAA,CAAItB,WAAW,CAACuB,WAAW,EAAE,wBAAAD,MAAA,CAAqBR,IAAI,CAACU,KAAK,EAAG;EAC1E,OAAO;IACLd,IAAI,EAAEP,WAAW;IACjBQ,OAAO,EAAE;MACPG,IAAI,EAAJA,IAAI;MACJG,OAAO,EAAE;QACPC,GAAG,iBAAAI,MAAA,CAAiBR,IAAI,CAACC,EAAE,CAAE;QAC7BU,MAAM,EAAE;MACV;IACF;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}